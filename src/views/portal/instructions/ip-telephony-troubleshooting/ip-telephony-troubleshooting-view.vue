<script setup lang="ts">
import BDivider from "@c/common/b-divider/b-divider.vue"
import BBlockquote from "@c/common/b-blockquote/b-blockquote.vue"
import PortalPage from "@c/portal/portal-page/portal-page.vue"
import PortalCard from "@c/portal/portal-card/portal-card.vue"
</script>

<template>
    <portal-page
        class="ip-telephony-troubleshoot-view"
        title="Что делать, если IP-телефония не работает"
    >

            <portal-card>
                <div class="content">
                    <p>
                        Данная инструкция подходит для телефонных трубок
                        <b>Panasonic TGP600</b> и <b>Gigaset C530A IP</b>.
                    </p>
                    <p>
                        Если телефон не принимает или не совершает звонки — выполните шаги ниже строго по порядку.
                    </p>

                </div>
            </portal-card>

            <portal-card title="1. Проверка питания">
                <div class="content">
                    <p>
                        Убедитесь, что базовая станция телефона подключена к электросети:
                    </p>

                    <ul>
                        <li>блок питания плотно вставлен в розетку;</li>
                        <li>розетка исправна;</li>
                        <li>не используется удлинитель с выключенной кнопкой.</li>
                    </ul>

                    <p>
                        Рекомендуется отключить питание базы на 5–10 секунд и включить обратно.
                    </p>
                </div>
            </portal-card>

            <portal-card title="2. Проверка интернет-кабеля">
                <div class="content">
                    <p> Проверьте LAN-кабель: </p>

                    <ul>
                        <li>один конец подключён в базу телефона;</li>
                        <li>второй конец подключён <b>в LAN-порт роутера</b>;</li>
                        <li><b>НЕ</b> должен быть подключён в порт WAN / Internet.</li>
                    </ul>

                    <p>
                        Если есть возможность — попробуйте другой LAN-порт или замените кабель.
                    </p>
                </div>
            </portal-card>

        <div class="content">
            <b-divider />

            <h3>3. Проверка индикации на базе</h3>

            <p><b>Panasonic TGP600</b></p>

            <ul>
                <li>LAN-индикатор горит или мигает зелёным — интернет есть;</li>
                <li>LAN-индикатор не горит — нет сетевого подключения;</li>
                <li>красный статус-индикатор — база не подключена к серверу.</li>
            </ul>

            <p><b>Gigaset C530A IP</b></p>

            <ul>
                <li>LAN-индикатор горит — сеть есть;</li>
                <li>LAN-индикатор не горит — проблема с кабелем или портом;</li>
                <li>если трубка пишет «Нет базы» — нет связи между трубкой и базой.</li>
            </ul>

            <b-blockquote>
                <p class="mb-x0">
                    Если LAN-индикатор не горит вообще — проблема почти всегда в кабеле, порте роутера или самом интернете.
                </p>
            </b-blockquote>

            <b-divider />

            <h3>4. Проверка интернета и роутера</h3>

            <p>
                Проверьте, работает ли интернет:
            </p>

            <ul>
                <li>открываются ли сайты на компьютере;</li>
                <li>работает ли Wi-Fi.</li>
            </ul>

            <p>
                Если интернет нестабилен или не работает — проблема не в телефоне.
                Перезагрузите роутер и дождитесь полного восстановления связи (2–3 минуты).
            </p>

            <b-divider />

            <h3>5. Проверка трубки</h3>

            <p>
                Проверьте состояние трубки:
            </p>

            <ul>
                <li>экран должен включаться;</li>
                <li>не должно быть сообщений «Нет базы», «Поиск базы», «Not registered».</li>
            </ul>

            <p>
                Поставьте трубку на базу и подождите 30–60 секунд для повторной регистрации.
            </p>

            <b-divider />

            <h3>6. Аккумуляторы</h3>

            <p>
                В трубках используются <b>только перезаряжаемые аккумуляторы (Ni-MH)</b>.
            </p>

            <ul>
                <li>обычные батарейки использовать нельзя;</li>
                <li>если трубка быстро разряжается или выключается — замените аккумуляторы.</li>
            </ul>

            <b-divider />

            <h3>7. Полная перезагрузка базы</h3>

            <ol>
                <li>отключите питание базы;</li>
                <li>вытащите LAN-кабель;</li>
                <li>подождите 30 секунд;</li>
                <li>подключите LAN-кабель обратно;</li>
                <li>включите питание и подождите 2–3 минуты.</li>
            </ol>

            <b-divider />

            <h3>Типовые ошибки</h3>

            <b-blockquote>
                <p class="mb-x0"><b>Ошибка 503</b> — база не может подключиться к серверу IP-телефонии.</p>
                <p class="mb-x0">Причины: нет интернета, сервер временно недоступен.</p>
            </b-blockquote>

            <b-blockquote>
                <p class="mb-x0"><b>Ошибка 403</b> — неверные данные SIP-аккаунта или аккаунт отключён.</p>
                <p class="mb-x0">Самостоятельно не исправляется.</p>
            </b-blockquote>

            <b-blockquote>
                <p class="mb-x0"><b>Нет регистрации</b> — база или трубка не зарегистрированы.</p>
            </b-blockquote>

            <b-divider />

            <h3>Когда обращаться в техподдержку</h3>

            <p>
                Если интернет работает, индикация в норме, но звонки не проходят —
                напишите в техподдержку и укажите:
            </p>

            <ul>
                <li>модель телефона;</li>
                <li>какая ошибка отображается;</li>
                <li>что уже было проверено по инструкции.</li>
            </ul>
        </div>
    </portal-page>
</template>

<style lang="scss" scoped>
.ip-telephony-troubleshoot-view {
    .content {
        @include text-content;
    }
}
</style>
